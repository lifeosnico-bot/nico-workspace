# Plan: Task & Workflow Architecture (Bridge Phase)
**Date:** 2026-02-23
**Context:** Vincent is transitioning to an AI-native workflow. He needs a system that works RIGHT NOW without learning new software, while being designed to evolve toward Slack + Claude Code as the end game (which is also how Anthropic internally runs their own teams). Everything stays in markdown for portability. Apple apps are the mobile/quick-capture layer. Obsidian is the brain. Slack is the future.

---

## CoS Assessment (pushback + endorsement)

**What's right about your instinct:**
- Siri → Apple Reminders is genuinely the fastest capture path. No friction.
- Keeping everything in markdown is the right long-term call. It makes the Slack transition almost free when we get there.
- Apple apps as a bridge (not a destination) is the correct framing. Don't over-invest here.
- Obsidian for files, docs, second brain is exactly right. That's what it's built for.
- Slack as end game aligns with how Anthropic runs their own teams internally — engineers use Claude Code in Slack to surface context, summarize threads, and execute tasks. We're building toward the same pattern.

**My one pushback:**
Apple Notes sync needs a hard rule or it becomes a second source of truth and causes chaos. The rule: **Obsidian is always the source. Apple Notes/Reminders are read-only output that Nico generates. Never edit tasks in Apple apps — always edit in Obsidian or via terminal commands.** If you break that rule, the system breaks. This is the single most important constraint of this architecture.

---

## The Architecture (3 Layers)

### Layer 1 — CAPTURE (how tasks get in)
All roads lead to the Inbox. Multiple entry points, one destination.

| Method                    | How                                         | When to use                   |
| ------------------------- | ------------------------------------------- | ----------------------------- |
| **Siri**                  | "Hey Siri, remind me in Nico Inbox: [task]" | On the go, fastest            |
| **Apple Watch**           | Same as Siri                                | When phone isn't handy        |
| **atl [text]**            | Terminal command                            | At desk, in Claude Code       |
| **01-inbox/ in Obsidian** | Drop a note in vault                        | When writing a longer thought |

Nico pulls from Apple Reminders "Nico Inbox" list at every session start via AppleScript. Items get dated, tagged with source, and dropped into status.md Inbox section. Reminders cleared after pull.

### Layer 2 — BRAIN (Obsidian + status.md)
Source of truth. Never edited from Apple apps.

**status.md** — restructured with:
- Priority tags: `[P1]` critical → `[P5]` someday
- Owner tags: `[V]` Vincent | `[N]` Nico | `[A]` Agent
- New top sections: Inbox → Active This Week → Vincent's Actions → Nico's Queue
- Phase breakdown kept below for detailed reference

**CabinetAgentVault** — for everything else:
- Project notes, meeting notes, research, decisions
- `00-dashboard/task-board.md` — the readable task view Vincent checks on M3

### Layer 3 — OUTPUT (read-only, auto-generated by Nico)
Nico pushes select items out to Apple apps. Vincent reads, never edits here.

| Destination | What syncs | Frequency |
|-------------|-----------|-----------|
| **Apple Notes** | Active task list (P1-P2 only) | Session end |
| **Apple Notes** | Key decisions list | When decisions change |
| **Apple Reminders** | Vincent's action items | Session end |
| **Apple Calendar** | Deadlines + milestones | When added to tasks |

**Future:** When Slack is live, Layer 3 becomes Slack channels instead of Apple apps. The Obsidian brain stays the same. This is a clean upgrade path.

---

## Implementation Steps (in order)

### Step 1 — Apple Reminders capture script (~20 min, Nico)
- Create `~/Nico/Scripts/pull-reminders.scpt`
- Reads "Nico Inbox" list from Apple Reminders
- Appends items to status.md Inbox with date + `_(Siri)_` tag
- Marks reminders complete after pull (prevents re-import)
- Add call to session start protocol in CLAUDE.md

**Vincent's only action:** On iPhone, create a Reminders list named exactly **"Nico Inbox"**

### Step 2 — Reformat status.md (~30 min, Nico)
- Add `[P1]-[P5]` and `[V]/[N]/[A]` to all existing tasks
- Add new top sections: Active This Week, Vincent's Actions, Nico's Queue
- Keep phase sections below as detailed reference
- Update atl syntax: `atl [optional priority] [description]` — defaults to P3/unassigned

### Step 3 — Build Obsidian task-board.md (~15 min, Nico)
- Create `~/Nico/CabinetAgentVault/00-dashboard/task-board.md`
- Shows: P1-P2 active tasks, Vincent's actions, inbox count, last updated time
- Nico rewrites this at session start and end — it's a snapshot, not a live DB
- Vincent bookmarks this in Obsidian on M3

### Step 4 — Apple Notes output script (~20 min, Nico)
- Create `~/Nico/Scripts/push-to-notes.scpt`
- Writes current P1-P2 tasks to an Apple Note called "Nico — Active Tasks"
- Writes key decisions to "Nico — Key Decisions"
- Runs at session end
- One-way only — Nico writes, Vincent reads

### Step 5 — Build /handoff skill (~15 min, Nico)
- Create `~/.claude/skills/handoff/SKILL.md`
- Single command that does: session log → Letta sync → MEMORY.md update → task-board update → Apple Notes push → git commit + push → print next session primer
- Replaces current manual end-of-session process

---

## Files Created/Modified
- `~/Nico/Memory/status.md` — restructured (priority + owner tags, new sections)
- `~/Nico/CLAUDE.md` — updated session protocol, atl syntax, new section descriptions
- `~/Nico/CabinetAgentVault/00-dashboard/task-board.md` — created
- `~/Nico/Scripts/pull-reminders.scpt` — created (Reminders → Inbox)
- `~/Nico/Scripts/push-to-notes.scpt` — created (Obsidian → Apple Notes)
- `~/.claude/skills/handoff/SKILL.md` — created

---

## What Vincent Does (only 2 things)
1. Create Reminders list on iPhone called **"Nico Inbox"**
2. Bookmark `00-dashboard/task-board.md` in Obsidian on M3

Everything else is Nico.

---

## Future-Proofing (Slack end game)
When Slack is ready, Layer 3 output moves from Apple Notes → Slack channels:
- `#tasks` replaces "Nico — Active Tasks" Apple Note
- `#status` gets session end updates
- `atl` posts to `#inbox` channel instead of terminal only
- Claude Code reads Slack for context (same pattern Anthropic uses internally)

The Obsidian brain and status.md engine don't change. Slack is just a better Layer 3.

---

## Verification
1. Vincent says "Hey Siri, remind me in Nico Inbox: test the reminders script"
2. Nico runs pull-reminders.scpt → item appears in status.md Inbox with `_(Siri)_` tag
3. `atl P1 verify reminders are working` → appears in Active section with P1 tag
4. Open Obsidian on M3 → task-board.md shows current P1-P2 tasks
5. Open Apple Notes → "Nico — Active Tasks" shows same P1-P2 list
6. `/handoff` → all memory synced, everything committed, Apple Notes updated
